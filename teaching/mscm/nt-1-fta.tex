\section{Proving the Fundamental Theorem of Arithmetic}

The \textbf{fundamental theorem of arithmetic} (FTA) states that every positive integer can be written as a product of primes, and that moreover, there is only one way to do this (aside from rearranging the primes in the product). For example, 2024 and 2025 can be written as
\begin{equation*}
2024 = 2\cdot 2\cdot 2\cdot 11\cdot 23\quad\text{and}\quad 2025 = 3\cdot 3\cdot 3\cdot 3\cdot 5\cdot 5.
\end{equation*}
For a given positive integer, the corresponding product of primes is its \emph{prime factorization}.

This handout discusses the number theory needed to prove the FTA. Knowledge of the material that is already in the textbook (AoPS Volume 1) or class examples is assumed.

\begin{convention}
Unless otherwise specified, ``number'' means ``non-negative integer'' in this chapter.
\end{convention}

\textit{These notes are also available at \url{https://azhou5849.github.io/teaching/}.}


\subsection{Divisibility}

Given two numbers $a$ and $b$, we say that \emph{$a$ is divisible by $b$} if there is a number $c$ such that $a = bc$. When $b\neq 0$, this is equivalent to saying that $a/b$ is an integer. Synonymously, we say that \emph{$a$ is a multiple of $b$}, that \emph{$b$ divides $a$}, and that \emph{$b$ is a divisor of $a$}. This can be written as $b\mid a$.

When $a$ is divisible by $b$, we can calculate $c = a/b$ using the usual division method(s) taught in school. Even when $a$ is not divisible by $b$, long division gets us
\begin{proposition}[Division algorithm]\label{prop:div-algo}
Let $a$ and $b$ be numbers with $b\neq 0$. There are unique numbers $q$ and $r$, with $0\leq r < b$, such that $a = bq + r$.
\end{proposition}
The numbers $q$ and $r$ are called the \emph{(integer) quotient} and \emph{remainder} when $a$ is divided by $b$.


\subsection{Common divisors}

One way to compute $\gcd(a,b)$ is simply to list out all of the divisors of $a$ and $b$ and look for the largest one that appears in both lists. For larger numbers, a better idea uses the following.

\begin{proposition}
If $a$ and $b$ are numbers, $a\neq 0$, and $a\geq b$, then $\gcd(a,b) = \gcd(a - b, b)$.
\end{proposition}
\begin{proof}
We prove the stronger statement that \textit{any} common divisor of $a$ and $b$ is also a common divisor of $b$ and $a - b$, and vice versa. Suppose $d$ is a common divisor of $a$ and $b$, so $a = da'$ and $b = db'$ for some numbers $a'$ and $b'$. Then $a - b = d(a' - b')$, so $d$ is a divisor of $a - b$ as well, hence a common divisor of $b$ and $a - b$. A similar argument shows that any common divisor of $b$ and $a - b$ is also a divisor of $a$; this is left as an exercise.
\end{proof}

Repeatedly using this result to calculate GCD is the \emph{euclidean algorithm}. For example:
\begin{align*}
\gcd(582133, 268381) &= \gcd(313752, 268381) = \gcd(45371, 268381) \\
&= \gcd(45371, 223010) = \gcd(45371, 177639) = \gcd(45371, 132268) \\
&= \gcd(45371, 86897) = \gcd(45371, 41526) = \gcd(3845, 41526) \\
&= \gcd(3845, 37681) = \gcd(3845, 33836) = \cdots \\
&= \gcd(3845, 3076) = \gcd(769, 3076) = \gcd(769, 2307) \\
&= \gcd(769, 1538) = \gcd(769, 769) = \boxed{769}.
\end{align*}

Subtracting the same number over and over again can be done in one line by using division with remainder (Proposition~\ref{prop:div-algo}) instead:
\begin{align*}
\gcd(582133, 268381) &= \gcd(45371, 268381) & 582133 &= 2\cdot 268381 + 45371 \\
&= \gcd(45371, 41526) & 268381 &= 5\cdot 45371 + 41526 \\
&= \gcd(3845, 41526) & 45371 &= 1\cdot 41526 + 3845 \\
&= \gcd(3845, 3076) & 41526 &= 10\cdot 3845 + 3076 \\
&= \gcd(769, 3076) & 3845 &= 1\cdot 3076 + 769 \\
&= \gcd(769, 0) & 3076 &= 4\cdot 769 + 0 \\
&= \boxed{769}.
\end{align*}


\subsection{B\'{e}zout's lemma}

When running the euclidean algorithm by division with remainder, the last non-zero remainder will always be the GCD. We can repeatedly ``back-substitute'' to write, in the previous example,
\begin{align*}
769 &= 1\cdot 3845 - 1\cdot 3076 = 1\cdot 3845 - (41526 - 10\cdot 3845) \\
&= 11\cdot 3845 - 1\cdot 41526 = 11\cdot (45371 - 1\cdot 41526) - 1\cdot 41526 \\
&= 11\cdot 45371 - 12\cdot 41526 = 11\cdot 45371 - 12\cdot (268381 - 5\cdot 45371) \\
&= 71\cdot 45371 - 12\cdot 268381 = 71\cdot (582133 - 2\cdot 268381) - 12\cdot 268381 \\
&= 71\cdot 582133 - 154\cdot 268381.
\end{align*}
In general, we can write the GCD as a ``linear combination'' of the original numbers by running this procedure. The fact we can always do this is known as \emph{B\'{e}zout's lemma}.
\begin{lemma}[B\'{e}zout]
Let $a,b$ be numbers, not both $0$. There exist integers $m,n$ such that
\begin{equation*}
am + bn = \gcd(a,b).
\end{equation*}
\end{lemma}


\subsection{Prime numbers}

A positive integer $p$ is \emph{prime} if $p\neq 1$ and the equation $p = ab$, where $a$ and $b$ are numbers, implies that $a = 1$ or $b = 1$.